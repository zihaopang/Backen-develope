## 什么是因特网
### 具体构成描述
1. 除了传统的桌面PC，工作站，如智能手机，平板电脑，电视也加入了互联网，这些设备均称为**主机**或者**端系统**。
2. 端系统通过**通信链路**和**分组交换机**连接到一起，两种最有名的分组交换机是**路由器**和**链路层交换机**。
3. 在许多方面，分组类似于卡车，通信链路类似于高速公路，分组交换机类似于立交桥，而端系统类似于建筑物。
4. 端系统通过**因特网服务提供商（ISP）**接入因特网，包括线缆调制解调，DSL，无线接入等等

### 服务描述
与因特网相连接的端系统提供了**应用程序编程接口**，其规定了一个端系统上的软件对另一个端系统上的软件交付数据的方式。

### 什么是协议
![人类协议和计算机网络协议](https://github.com/zihaopang/Backen-develope/tree/master/pics)

## 网络边缘
### 接入网
1. 指的是将端系统连接到其**边缘路由器**的物理链路
2. 家庭接入：DSL（digital subscriber Line）数字用户线、电缆为最流行的两种
3. DSL:双绞铜线，电缆：混合光纤同轴
4. 企业和家庭接入：以太网和wifi
5. 广域网无线接入：3G，4G

### 物理媒介
物体媒介划分为两类：**导引型媒体**，如光缆，和**非导引型媒体**如无线电波

## 网络核心
### 分组交换
源将长报文划分为较小的数据块，称为分组.每个分组都通过通信链路和分组交换机传送

#### 存储转发传输
![存储转发分组交换](https://github.com/zihaopang/Backen-develope/blob/master/pics/%E5%AD%98%E5%82%A8%E8%BD%AC%E5%8F%91%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2.PNG)
如图，源已经传输了分组一的一部分，分组一的前沿已经到达了路由器，而由于存储转发机制，此时还不能传输已经接受的比特。只有当接受完该组所有的比特后，才可传输。在时候L/R秒，路由器接收到了整个分组。在把分组传给目的地址，还需L/R秒，故总的时延为2L/R。假设需要通过N条速率为R的链路组成的路径，那么总时延为N*L/R。
#### 排队时延和分组丢失
对于每条相连的链路，交换机只有一个缓存。一个到达的分组发现该缓存被其他等待传输的分组塞满了，此时便有了**排队时延**
#### 转发表和路由选择协议
路由器该怎么决定向哪一条链路进行转发？分组的首部包含了目的地址的IP地址，每台路由器有一个**转发表**，用于将目的地址映射成输出链路。路由选择协议可以自动的设置这些转发表。

### 电路交换
1. 在发送方发送信息之前，在发送方和接收方之间建立一个**名副其实**的连接，沿途的交换机都会维护该连接的状态。
2. 分组交换和电路交换的对比：分组交换不适合实时的服务，但比电路交换更简单，更有效，成本更低。

### 网络的网络
![ISP的互联](https://github.com/zihaopang/Backen-develope/blob/master/pics/ISP%E7%9A%84%E4%BA%92%E8%81%94.PNG)
今天的因特网是一个网络的网络，其结构复杂，由十多个一层ISP和数十万个较底层的ISP构成。

## 分组交换中的时延、丢包和吞吐量
### 时延的类型
1. **处理时延**：检查分组的首部并且决定该分组走向何处是其一部分
2. **排队时延**：在分组在链路上等待传输时，经受排队时延。这取决于先期到达且在排队的分组数量
3. **传输时延**：由于存储转发，仅当分组所有部分已经到达之后，才能进行传输。
4. **传播时延**：即为分组在链路上传输的时延。

### 排队时延和丢包
如果10个分组同时达到队列，传输的第一个分组没有时延，最后一个分组经受较大时延。令α表示到达队列的平均速率，所有分组都是L比特，R为传输速率，那么Lα/R被称为**流量强度**。系统设计时，流量强度不能大于1。
一条链路的队列只有有限的入量，如果队列满，新到达的发呢组将被路由器丢弃

### 计算机网络中的吞吐量
如果文件由F比特组成，主机B接收到所有F比特用了T秒，则文件的平均吞吐量就是F/T bps
从服务其到客户的吞吐量由**瓶颈链路**决定。如下图的吞吐量是：min{R1,R2,...,RN}
![服务器到客户端的吞吐量](https://github.com/zihaopang/Backen-develope/blob/master/pics/%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E5%90%9E%E5%90%90%E9%87%8F.PNG)

## 协议层次及其服务模型
### 分层的体系结构
![OSI参考模型](https://github.com/zihaopang/Backen-develope/blob/master/pics/%E5%88%86%E5%B1%82%E6%A8%A1%E5%9E%8B.PNG)
1. 应用层：是网络应用程序及其应用协议存留的地方。如HTTP(WEB文档的请求和传送)，SMTP,FTP。我们把位于应用层的信息分组称为**报文**。
2. 运输层：运输层在应用程序端点之间传送应用层报文。有两个运输层协议：TCP,UDP
3. 网络层：网络层负责将称为**数据报**的网络层分组从一台主机移动到另一台主机。ip协议
4. 链路层：网络层通过一系列路由路由数据报，为了将分组移动到路径的下一个节点，网络必须依靠数据链路层的服务。链路层的分组称为**帧**。
5. 物理层：物理层的任务是将该帧中的一个一个比特从一个节点移动到下一个节点，其与实际的传输媒介相关。

###封装
![封装](https://github.com/zihaopang/Backen-develope/blob/master/pics/%E5%B0%81%E8%A3%85.PNG)